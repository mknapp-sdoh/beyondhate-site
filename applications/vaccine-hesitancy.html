<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Addressing Vaccine Hesitancy - Beyond Hate</title>
  <meta name="description" content="A framework for helping parents navigate vaccine decisions through trusted networks, multiple touchpoints, and evidence-based conversations.">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <script src="/components/header.js"></script>

  <main>
    <div class="container">
      <h1>Addressing Vaccine Hesitancy</h1>
      <p class="subtitle">Beyond the chatbot. Toward trusted networks.</p>

      <div class="content">
        <div class="contrast">
          <p><strong>Try the DAWN prototype:</strong> DAWN helps kindergartens reach 95% MMR vaccination&mdash;the threshold for herd immunity against measles. It engages hesitant parents with empathy and evidence.</p>
          <button id="dawn-start-btn" onclick="showIntakeForm()">Start Demo</button>
        </div>

        <!-- Intake Form (hidden initially) -->
        <div id="dawn-intake" class="dawn-panel" style="display: none;">
          <h3>Help DAWN understand your situation</h3>
          <p class="dawn-subtitle">This helps personalize the conversation to your specific concerns.</p>

          <div class="dawn-form-group">
            <label>How do you feel about vaccinating your child?</label>
            <select id="dawn-stage">
              <option value="contemplation">I'm considering but have concerns</option>
              <option value="pre_contemplation">I'm opposed to vaccines</option>
              <option value="preparation">I'm planning to vaccinate soon</option>
            </select>
          </div>

          <div class="dawn-form-group">
            <label>How much do you trust medical institutions?</label>
            <select id="dawn-trust">
              <option value="moderate">Somewhat trust them</option>
              <option value="high">I trust them</option>
              <option value="low">I don't trust them much</option>
            </select>
          </div>

          <div class="dawn-form-group">
            <label>What concerns do you have? (Select all that apply)</label>
            <div class="dawn-concerns">
              <label><input type="checkbox" value="autism_fear"> Autism concerns</label>
              <label><input type="checkbox" value="side_effects"> Side effects</label>
              <label><input type="checkbox" value="too_many_vaccines"> Too many vaccines</label>
              <label><input type="checkbox" value="natural_immunity"> Natural immunity</label>
              <label><input type="checkbox" value="distrust_institutions"> Don't trust institutions</label>
              <label><input type="checkbox" value="ingredient_fears"> Vaccine ingredients</label>
            </div>
          </div>

          <button id="dawn-begin-chat" onclick="startChat()">Start Conversation</button>
        </div>

        <!-- Chat Area (hidden initially) -->
        <div id="dawn-chat" class="dawn-panel" style="display: none;">
          <div id="dawn-messages"></div>
          <div id="dawn-input-area">
            <input type="text" id="dawn-input" placeholder="Share your thoughts..." />
            <button id="dawn-send">Send</button>
          </div>
          <p id="dawn-status"></p>
        </div>

        <p>Measles cases are rising. Vaccination rates are falling. And the gap between public health messaging and parental concerns keeps growing.</p>

        <p>The typical response is more information: fact sheets, debunking articles, CDC statistics. But information alone doesn't change minds&mdash;especially when trust has eroded.</p>

        <h2>What we learned</h2>

        <p>I've been exploring how the <a href="/framework/">behavioral science framework</a> might apply to vaccine hesitancy, specifically for MMR (measles, mumps, rubella) vaccination.</p>

        <p>The core insight from this work: <strong>a chatbot isn't enough.</strong></p>

        <p>Damon Centola's research on complex contagion predicts exactly this. Behavior change requires multiple reinforcing interactions from trusted sources. A single AI conversation&mdash;no matter how sophisticated&mdash;can't provide that.</p>

        <h2>What's actually needed</h2>

        <p>A complete system would need to include:</p>

        <h3>Different interfaces for different stakeholders</h3>
        <ul>
          <li><strong>For parents:</strong> Conversational tools that meet them where they are&mdash;addressing their specific concerns, providing evidence in accessible language</li>
          <li><strong>For nurses:</strong> Dashboards showing which families are hesitant, suggested talking points, conversation tracking</li>
          <li><strong>For school administrators:</strong> Vaccination rate data by school, progress toward herd immunity targets, notification tools</li>
        </ul>

        <h3>Visible community data</h3>
        <p>Parents respond to what others in their community are doing. A visualization showing "87% of families at your child's school have vaccinated&mdash;here's what it would take to reach 95%" creates social proof and shared purpose.</p>

        <h3>Trusted messenger activation</h3>
        <p>The pediatric nurse who's known the family for years has more credibility than any chatbot. The system should equip these trusted messengers with the right tools and information&mdash;not replace them.</p>

        <h3>Multiple touchpoints over time</h3>
        <p>A single conversation rarely changes deeply held beliefs. The system needs to support ongoing engagement: follow-up messages, check-ins, new information as it becomes relevant.</p>

        <h2>The DAWN prototype</h2>

        <p>As part of this exploration, I built a conversational prototype called DAWN (Dynamic Advocacy for Wellness Network). It demonstrates one piece of the puzzle: an AI system that can engage with vaccine-hesitant parents in a thoughtful way.</p>

        <p>Key features of the prototype:</p>

        <ul>
          <li><strong>Concern identification:</strong> Categorizes parent concerns (autism fears, ingredient worries, natural immunity beliefs, etc.) and tailors responses accordingly</li>
          <li><strong>Adaptive personas:</strong> Adjusts tone and approach based on how the parent communicates&mdash;more analytical for data-driven parents, more empathetic for worried parents</li>
          <li><strong>Stage awareness:</strong> Recognizes where parents are in their decision process (pre-contemplation, contemplation, preparation, action) and meets them there</li>
          <li><strong>Evidence integration:</strong> Draws on peer-reviewed research and trusted sources (CDC, WHO, Children's Hospital of Philadelphia) to address specific concerns</li>
        </ul>

        <p>But I want to be clear: <strong>the chatbot alone isn't the solution.</strong> It's a prototype of one component in what would need to be a much larger system.</p>

        <h2>The evidence base</h2>

        <p>The approach draws on research about what actually changes minds on vaccine hesitancy:</p>

        <ul>
          <li><strong>Motivational interviewing</strong> works better than argumentation</li>
          <li><strong>Trusted messengers</strong> matter more than information quality</li>
          <li><strong>Stories</strong> are often more persuasive than statistics</li>
          <li><strong>Addressing specific concerns</strong> beats general messaging</li>
          <li><strong>Multiple conversations</strong> over time beat single encounters</li>
        </ul>

        <p>The MMR vaccine is a particularly urgent case: measles is one of the most contagious diseases, requiring 95% vaccination for herd immunity. Current rates in many communities have fallen well below that threshold.</p>

        <h2>The hard problems</h2>

        <p>This work raises difficult questions:</p>

        <ul>
          <li><strong>Ethics of persuasion:</strong> Where's the line between helping people make informed decisions and manipulating them?</li>
          <li><strong>Trust recovery:</strong> What do you do when institutional trust has broken down?</li>
          <li><strong>Misinformation asymmetry:</strong> Debunking false claims often takes more effort than making them</li>
          <li><strong>Identity and community:</strong> For some, vaccine skepticism is tied to group identity&mdash;changing the behavior means risking social bonds</li>
        </ul>

        <p>These aren't solved problems. Any serious effort needs to grapple with them honestly.</p>

        <hr>

        <h2>Current status</h2>

        <p>This is exploratory work. The DAWN prototype demonstrates what's possible with conversational AI for this domain. The broader framework suggests what a complete system might look like.</p>

        <p>The next steps would involve:</p>
        <ul>
          <li>Partnerships with healthcare systems to understand nurse workflows</li>
          <li>School district collaboration for vaccination data integration</li>
          <li>Testing conversational approaches with real parents</li>
          <li>Measuring actual behavior change, not just conversation quality</li>
        </ul>
      </div>

      <footer>
        <p><a href="/">Home</a> &middot; <a href="/framework/">Framework</a> &middot; <a href="/about.html">About</a></p>
      </footer>
    </div>
  </main>
<style>
  #dawn-start-btn, #dawn-begin-chat {
    padding: 0.6rem 1.2rem;
    background: var(--accent-green);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    margin-top: 0.75rem;
  }
  #dawn-start-btn:hover, #dawn-begin-chat:hover {
    opacity: 0.9;
  }
  .dawn-panel {
    margin-top: 1rem;
    padding: 1.25rem;
    background: #fff;
    border-radius: 4px;
    border: 1px solid var(--border);
  }
  .dawn-panel h3 {
    margin-top: 0;
    margin-bottom: 0.5rem;
  }
  .dawn-subtitle {
    color: var(--text-light);
    font-size: 0.9rem;
    margin-bottom: 1rem;
  }
  .dawn-form-group {
    margin-bottom: 1rem;
  }
  .dawn-form-group label {
    display: block;
    margin-bottom: 0.4rem;
    font-weight: 500;
  }
  .dawn-form-group select {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid var(--border);
    border-radius: 4px;
    font-size: 1rem;
  }
  .dawn-concerns {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 0.5rem;
    margin-top: 0.5rem;
  }
  .dawn-concerns label {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-weight: normal;
    padding: 0.4rem;
    background: var(--bg-gray);
    border-radius: 4px;
    cursor: pointer;
  }
  .dawn-concerns label:hover {
    background: #e8e8e8;
  }
  #dawn-messages {
    max-height: 60vh;
    overflow-y: auto;
    margin-bottom: 1rem;
    padding: 0.75rem;
    background: var(--bg-gray);
    border-radius: 4px;
    min-height: 300px;
  }
  .dawn-message {
    margin-bottom: 0.75rem;
    padding: 0.6rem 0.9rem;
    border-radius: 8px;
    line-height: 1.5;
  }
  .dawn-message.user {
    background: var(--header-blue);
    color: white;
    margin-left: 20%;
  }
  .dawn-message.assistant {
    background: #fff;
    border: 1px solid var(--border);
  }
  #dawn-input-area {
    display: flex;
    gap: 0.5rem;
  }
  #dawn-input {
    flex: 1;
    padding: 0.6rem 0.9rem;
    border: 1px solid var(--border);
    border-radius: 4px;
    font-size: 1rem;
  }
  #dawn-send {
    padding: 0.6rem 1.2rem;
    background: var(--accent-green);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
  }
  #dawn-send:hover {
    opacity: 0.9;
  }
  #dawn-send:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  #dawn-status {
    font-size: 0.85rem;
    color: var(--text-light);
    margin-top: 0.5rem;
    margin-bottom: 0;
  }
</style>

<script>
const API_URL = 'https://beyondhate-api.mknapp.workers.dev/';
let conversationHistory = [];
let parentProfile = {};

function showIntakeForm() {
  document.getElementById('dawn-start-btn').style.display = 'none';
  document.getElementById('dawn-intake').style.display = 'block';
}

function startChat() {
  // Collect profile data
  const stage = document.getElementById('dawn-stage').value;
  const trustLevel = document.getElementById('dawn-trust').value;
  const concernCheckboxes = document.querySelectorAll('.dawn-concerns input:checked');
  const concerns = Array.from(concernCheckboxes).map(cb => cb.value);

  if (concerns.length === 0) {
    alert('Please select at least one concern.');
    return;
  }

  parentProfile = { stage, trustLevel, concerns };

  // Hide intake, show chat
  document.getElementById('dawn-intake').style.display = 'none';
  document.getElementById('dawn-chat').style.display = 'block';

  // Add welcome message based on profile
  const messagesEl = document.getElementById('dawn-messages');
  const welcomeMsg = "Hi, I'm DAWN. I understand you're a parent at a kindergarten working toward the 95% vaccination threshold to protect all children from measles. I'm here to have an honest conversation about any concerns you have about the MMR vaccine. What's on your mind?";
  addMessage(welcomeMsg, 'assistant');
  conversationHistory.push({ role: 'assistant', content: welcomeMsg });

  document.getElementById('dawn-input').focus();
}

function addMessage(content, role) {
  const messagesEl = document.getElementById('dawn-messages');
  const div = document.createElement('div');
  div.className = `dawn-message ${role}`;
  div.textContent = content;
  messagesEl.appendChild(div);
  messagesEl.scrollTop = messagesEl.scrollHeight;
}

async function sendMessage() {
  const inputEl = document.getElementById('dawn-input');
  const sendBtn = document.getElementById('dawn-send');
  const statusEl = document.getElementById('dawn-status');
  const message = inputEl.value.trim();
  if (!message) return;

  addMessage(message, 'user');
  conversationHistory.push({ role: 'user', content: message });
  inputEl.value = '';
  sendBtn.disabled = true;
  statusEl.textContent = 'DAWN is thinking...';

  try {
    const response = await fetch(API_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        message: message,
        profile: parentProfile,
        conversationHistory: conversationHistory.slice(-6)
      })
    });

    const data = await response.json();

    if (data.error) {
      if (data.error === 'Rate limit reached') {
        statusEl.textContent = data.message;
      } else {
        statusEl.textContent = 'Sorry, something went wrong. Please try again.';
      }
      return;
    }

    addMessage(data.response, 'assistant');
    conversationHistory.push({ role: 'assistant', content: data.response });
    statusEl.textContent = data.messagesRemaining !== undefined
      ? `${data.messagesRemaining} messages remaining in demo`
      : '';
  } catch (err) {
    statusEl.textContent = 'Connection error. Please try again.';
  } finally {
    sendBtn.disabled = false;
    inputEl.focus();
  }
}

document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('dawn-send').addEventListener('click', sendMessage);
  document.getElementById('dawn-input').addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage();
  });
});
</script>
</body>
</html>
